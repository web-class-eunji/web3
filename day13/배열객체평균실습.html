<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열객체평균실습</title>
</head>
<body>
    <script>
        /*
        학생 배열 안에 객체를 만들기
        엘사는 85점 / 모아나는 92점 / 에리얼 78점 / 라푼젤 63점
        
        평균 점수를 계산하기 위해 총합 점수를 저장할 let totalScore = 0;를 만들어놓고 
        학생들의 수를 이용해서 반복문을 돌리고 학생들의 점수를 totalScore에 더한다.

        반복문을 돌리고 나면 totalScore에는 모든 학생의 점수가 들어있을것이다!
        그 후에 평균을 내기 위해서 /4가 아니라 학생 수만큼 나눈다. (나눈 수가 실수라면 반올림한다.)

        출력 (평균점수 : 85)

         let highScore = 0; 메모리 공간을 만들어놓고 여기다가 최고점수를 저장할거임
         let topStudent; 최고점수를 가진 학생 정보를 저장할 변수
         FOR문을 사용해서 반복하며 학생들의 점수를 각각 확인하면서 가장 높은 점수를 highScore에 대입한다.
         topStudent에다가 highScore에 들어있는 학생의 정보를 담는다.

        */

        let students = [
            { name : "엘사", score : 85},
            { name : "모아나", score : 92},
            { name : "에리얼", score : 78},
            { name : "라푼젤", score : 63}
        ];

        let totalScore = 0;
        for(let i = 0; i < students.length; i++){
            totalScore += students[i].score;
        }

        let avgScore = totalScore / students.length;
        console.log(avgScore);

        let roundScore = Math.round(avgScore);
        console.log(roundScore);

        document.write(`평균점수 : ${roundScore} <br>`);


        //최고점수
        let highScore = 0;
        let topStudent;

        for(let i = 0; i < students.length;i++){
            if(students[i].score > highScore){
                highScore = students[i].score;
                topStudent = students[i];
            }
        }
        document.write(`최고 점수 학생 : ${topStudent.name} <br>`);

        let passedStudent = [];
        for(let i = 0; i < students.length;i++){
            if(students[i].score >= roundScore){
                passedStudent.push(students[i]);
            }
        }
        for(let i = 0; i < passedStudent.length;i++){
            document.write(`평균이상 학생 : ${passedStudent[i].name} (${passedStudent[i].score})<br>`);
        }
    </script>
</body>
</html>